<div class="spin-fullscreen-wrap" data-ng-if="loading">
  <div class="spinner-wrap">
  </div>
  <i class="material-icons spinner">refresh</i>
</div>
<form
class="contract-form"
data-ng-submit="update()"
id="profileForm"
name="profileForm"
novalidate
>

  <header>
    <h3>Profile</h3>
  </header>

  <fieldset>
    <div class="relative form-line">
      <input class="material-text" type="email" id="email"
      data-ng-model="user.email"
      data-guc-email
      required
      readonly="true">
      <label for="email">Email</label>
      <span class="form-field-error"
      data-ng-class="{hidden: !profileForm.email.$error.required}"
      >This field is required.</span>
      <span class="form-field-error"
      data-ng-class="{hidden: !profileForm.email.$error.guc_email}">
      Must be a valid guc email.
      </span>
    </div>

    <div class="relative form-line">
      <input class="material-text" type="password" id="password" name="password"
      data-ng-model="userData.password"
      data-ng-minlength="2"
      >
      <label for="password">New Password</label>
      <span class="form-field-error"
      data-ng-class="{hidden: !profileForm.password.$error.minlength}"
      >Must be at least two characters long.</span>
    </div>

    <div class="relative form-line">
      <input class="material-text" type="text" id="name" name="name"
      data-ng-model="user.name"
      required>
      <label for="name">Full Name</label>
      <span class="form-field-error"
      data-ng-class="{hidden: !profileForm.name.$error.required}"
      >
      This field is required.
      </span>
    </div>
  </fieldset>
  <p class="error">{{error}}</p>
  <div class="flex-perfect-center-container"
  data-ng-class="{hidden: profileForm.$pristine}"
  >
    <button type="submit" class="contract-overlay"
    data-ng-disabled="profileForm.$invalid"
    data-ng-class="{loading: processing}"
    >
      <span class="label">Update</span>
      <i class="material-icons spinner">refresh</i>
    </button>
  </div>

</form>
